<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/연습index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>
<body>
    
    <div class="wrap">

    </div>

    <script>

        // 유저 정보 배열, 객체 지정

        const users = [

            {
                profile: "https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0",
                username: "username",
                con: "url(https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0)",
                likes: 90 ,
                text: "text"
            },
             
            {
                profile: "https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0",
                username: "username",
                con: "url(https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0)",
                likes: 90 ,
                text: "text"
            },
             
            {
                profile: "https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0",
                username: "username",
                con: "url(https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0)",
                likes: 90 ,
                text: "text"
            },
                     
             
        ];

        const inputUsername = prompt("아이디를 입력해주세요");
        const inputText = prompt("게시글을 입력해주세요");

        if(inputUsername === ""){
            alert("아이디를 입력해주세요! f5를 눌러 재입력하면 글이 등록됩니다!");
        }else if(inputUsername === null){
            alert("아이디를 입력해주세요! f5를 눌러 재입력하면 글이 등록됩니다!");
        }else if(inputText === ""){
            alert("게시글을 입력해주세요! f5를 눌러 재입력하면 글이 등록됩니다!");
        }else if(inputText === null){
            alert("게시글을 입력해주세요! f5를 눌러 재입력하면 글이 등록됩니다!");
        }else{
            const newUser = {
                profile: "https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0",
                username: inputUsername,
                con: "url(https://res.cloudinary.com/kyte/image/upload/w_1200,h_630,q_auto,e_sharpen:50,c_fill,g_auto/v1618208091/content/shutterstock/ETC/green_field_0)",
                likes: 90,
                text: inputText
            };

            users.push(newUser);
        };

        // 새로운 사용자 정보 users 배열에 추가
        // +내용 입력하지 않았을경우 alert가 뜨게하기


        // wrap 잡아주고 for문 들어가기

        const wrapEl = document.querySelector('.wrap');

        for(let i = 0; i < users.length; i++){

            const user = users[i];
            // -인덱스 넘버 포함된걸 변수로 지정해줌// 

            const conWrapEl = document.createElement('div');
            conWrapEl.classList.add('con_wrap');
            // -con_wrap 만들기

            const titleEl = document.createElement('div')
            titleEl.classList.add('title')

            titleEl.innerHTML =
            `<div class="profile"> <img src="${user.profile}"> </div>
            <div class="username">${user.username}</div>`;

            // -title 만들기 + 유저 프로필사진 넣기 + 유저네임 넣기

            const conEl = document.createElement('div')
            conEl.classList.add('con')

            conEl.style.backgroundImage = user.con;
            conEl.style.backgroundPosition = "center";
            conEl.style.backgroundSize = "cover";
            conEl.style.backgroundRepeat = "no-repeat";

            // -게시물 사진 스타일 조정

            const likeWrapEl = document.createElement('div');
            likeWrapEl.classList.add('like_wrap');

            likeWrapEl.innerHTML =
            `<i class="fa-regular fa-heart"></i>
            <div class="likenum">${user.likes}개</div>
            <div class="text">${user.text}</div>`;

            // -like_wrap 만들기 + 좋아요 갯수 likenum + 유저 글

            conWrapEl.append(titleEl);
            conWrapEl.append(conEl);
            conWrapEl.append(likeWrapEl);

            wrapEl.append(conWrapEl);
            // -만든거 전부 컨랩에 넣어주고 그 컨랩을 랩에 넣어주기

            const likeEl = likeWrapEl.querySelector('.fa-regular.fa-heart');
            const likenumEl = likeWrapEl.querySelector('.likenum');

            // -likewrap에 있는 클래스를 잡아서 변수 만들어주기

            const toggleLike = () => {
                likeEl.classList.toggle('fa-regular')
                likeEl.classList.toggle('fa-solid')

                if(likeEl.classList.contains('fa-solid')){
                    user.likes++;
                }else{
                    user.likes--;                    
                };

                likenumEl.innerText = user.likes + "개"
            };

            likeWrapEl.addEventListener('click', toggleLike);

            // -하트 + 좋아요 수 올라가는 함수 만들고 이벤트 추가
        };

    </script>

</body>
</html>